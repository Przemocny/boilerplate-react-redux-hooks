(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(70)},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),m=a(6),i=function(){return r.a.createElement("span",null,"\u2103")},o=function(){return r.a.createElement("div",{className:"weather-loading"},"LOADING")},u=function(e){var t=e.message,a=void 0===t?"Unknown Error":t;return r.a.createElement("div",{className:"weather-error"},r.a.createElement("h4",null,"ERROR: ",r.a.createElement("strong",null,a)))},s=function(e){var t=e.temp_max,a=e.temp_min,n=e.clouds,c=e.humidity,l=e.wind,m=e.pressure;return r.a.createElement("div",{className:"weather-secondary-params mt-3"},r.a.createElement("div",{className:"row m-0"},r.a.createElement("div",{className:"col-md m-0 mt-3 pb-3"},r.a.createElement("h6",null,"Min temperature: ",r.a.createElement("strong",null,a,r.a.createElement(i,null))),r.a.createElement("h6",null,"Max temperature: ",r.a.createElement("strong",null,t,r.a.createElement(i,null)))),r.a.createElement("div",{className:"col-md m-0 mt-3 pb-3"},r.a.createElement("h6",null,"Pressure: ",r.a.createElement("strong",null,m)),r.a.createElement("h6",null,"Wind speed: ",r.a.createElement("strong",null,l))),r.a.createElement("div",{className:"col-md m-0 mt-3 pb-3"},r.a.createElement("h6",null,"Clouds: ",r.a.createElement("strong",null,n)),r.a.createElement("h6",null,"Humidity: ",r.a.createElement("strong",null,c)))))},d=function(e){var t=e.onSubmit,a=e.city,n=e.onChange;return r.a.createElement("div",{className:"weather-form"},r.a.createElement("form",{className:"row"},r.a.createElement("div",{className:"form-group col-md"},r.a.createElement("input",{type:"text",value:a,placeholder:"City",className:"form-control",onChange:function(e){n(e.target.value)}})),r.a.createElement("div",{className:"form-group col-md"},r.a.createElement("button",{className:"btn btn-block btn-primary",onClick:function(e){e.preventDefault(),t(a)}},"Check weather"))))},h=function(e){var t=e.icon,a=void 0===t?"01d":t,n=e.main,c=e.temp,l=e.city,m=e.country,o=e.time,u="http://openweathermap.org/img/wn/".concat(a,"@2x.png");return r.a.createElement("div",{className:"weather-main"},r.a.createElement("img",{src:u,alt:"weather icon"}),r.a.createElement("h6",null,r.a.createElement("small",null,o," ",r.a.createElement("strong",null,l,", ",m))),r.a.createElement("h3",null,r.a.createElement("strong",null,c,r.a.createElement(i,null)," / ",n)))},E=a(5),p=a(10),f=a.n(p),v=a(26),y=a(27),g=a(28),w=a.n(g),b=a(29),N=a.n(b),C={units:"metric",APPID:"05508bb378ad891b493b0c886cca7a57"},j=w.a.create({baseURL:"https://api.openweathermap.org/data/2.5",timeout:6e4,headers:{Accept:"application/json","Content-Type":"application/json"}}),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log(e,"config",t);var a=Object(E.a)({url:e},t);return a.headers||(a.headers={}),t.multipart&&(a.headers["content-type"]="multipart/form-data"),t.query&&0!==Object.keys(t.query).length&&(a.url+="?"+N.a.stringify(t.query)),j.request(a).then(function(t){return function(e,t){return console.log(t,"\n\t status: ".concat(e.status),"\n\t payload: ",e.data),e.data}(t,e)})},W=new(function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,[{key:"actualWeatherForCityName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Lublin",t={method:"GET",query:Object(E.a)({},C,{q:e})};return O("/weather",t)}}]),e}()),k=a(9),D={actual_weather:{},city:"Lublin",error:!1,imBusy:!0},F=Object(k.b)({slice:"Main",initialState:D,reducers:{initLoadingData:function(e,t){e.imBusy=!0,e.error=!1,e.actual_weather={}},actualWeatherFetchedWithSuccess:function(e,t){e.imBusy=!1,e.error=!1,e.actual_weather=t.payload},actualWeatherFetchedWithError:function(e,t){e.imBusy=!1,e.error=t.payload},changeCity:function(e,t){e.city=t.payload}}}),H=F.actions,M=F.reducer,q=H.initLoadingData,B=H.actualWeatherFetchedWithSuccess,L=H.actualWeatherFetchedWithError,S=H.changeCity,_=M,x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e(q()),(t?W.actualWeatherForCityName(t):W.actualWeatherForCityName()).then(function(t){var a=function(e){var t=Object(E.a)({city:e.name,clouds:e.clouds.all,wind:e.wind.speed,time:e.dt},e.coord,e.main,e.weather[0],e.sys,e.timezone);return delete t.type,delete t.id,delete t.message,t.time=f()(t.time,"X").utc().local().format("HH:mm DD.MM.YYYY"),t.sunrise=f()(t.sunrise,"X").utc().local().format("HH:mm"),t.sunset=f()(t.sunset,"X").utc().local().format("HH:mm"),t.pressure+="hPa",t.humidity+="%",t.clouds+="%",t.wind+="m/s",t}(t);return e(B(a)),t}).catch(function(t){var a=t.response.data;return e(L(a)),a})},P=function(e){return function(t){x(e,t)}},R=function(e){return function(t){e(S(t))}},Y=function(){var e=Object(m.c)(),t=Object(m.d)(function(e){return e.Main},m.b),a=t.actual_weather,c=t.imBusy,l=t.error,i=t.city;return Object(n.useEffect)(function(){x(e)},[]),c?r.a.createElement("div",{className:"weather-container"},r.a.createElement(o,null)):l?r.a.createElement("div",{className:"weather-container"},r.a.createElement(d,{onSubmit:P(e),onChange:R(e),city:i}),r.a.createElement(u,l)):r.a.createElement("div",{className:"weather-container"},r.a.createElement(d,{onSubmit:P(e),onChange:R(e),city:i}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md"},r.a.createElement(h,a))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(s,a))))};a(69);var A=function(){return r.a.createElement("div",{className:"app container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement(Y,null))))},I=Object(k.a)({reducer:{Main:_}});l.a.render(r.a.createElement(m.a,{store:I},r.a.createElement(A,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.efa2b36c.chunk.js.map